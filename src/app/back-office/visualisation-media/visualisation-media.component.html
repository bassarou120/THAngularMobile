
<!-- App Header -->
<div class="appHeader bg-primary text-light">
  <div class="left">
    <a (click)="backToPrevious()" class="headerButton">
      <ion-icon name="chevron-back-outline"></ion-icon>
    </a>
  </div>
  <div class="pageTitle">Visualisation</div>
  <div class="right"> </div>
</div>
<!-- * App Header -->

<!-- App Capsule -->
<div id="appCapsule">

  <br>

  <div class="section mt-2" *ngIf="oneGagnant && oneGagnant.id != null">
    <div class="card">

      <iframe *ngIf="isYoutubeLink(oneGagnant.mediaLink)" style="width: 100%; height: 100%;"
        [src]="oneGagnant.mediaLink | safe" frameborder="0" allowfullscreen>
      </iframe>

      <iframe *ngIf="isFacebookLink(oneGagnant.mediaLink)"
        [src]="('https://www.facebook.com/plugins/video.php?href='+ oneGagnant.mediaLink +'&show_text=0') | safe"
        style="border:none;overflow:hidden; margin-bottom: 10px;width:100%;height: auto;" scrolling="no" frameborder="0"
        allowTransparency="true" allowFullScreen="true"></iframe>
      <div class="card-body">
        <h6 class="card-subtitle">{{ getMonthOfNumer(oneGagnant.mois) }} {{ oneGagnant.annee }}</h6>
        <h6 class="card-subtitle text-primary">{{ oneGagnant.titrecamapagne  }}</h6>
        <h5 class="card-title">{{ oneGagnant.user.fullName }} </h5>
        <p class="card-text">
          {{ oneGagnant.content }}
        </p>
      </div>
    </div>
  </div>

  <div class="section mt-2" *ngIf="onPost && onPost.id != null">
    <div class="card">
      <iframe *ngIf="isYoutubeLink(onPost.mediaLink)" style="width: 100%; height: 100%;"
        [src]="oneGagnant.mediaLink | safe" frameborder="0" allowfullscreen>
      </iframe>

      <iframe *ngIf="isFacebookLink(onPost.mediaLink)"
        [src]="('https://www.facebook.com/plugins/video.php?href='+ onPost.mediaLink +'&show_text=0') | safe"
        style="border:none;overflow:hidden; margin-bottom: 10px;width:100%;height: auto;" scrolling="no" frameborder="0"
        allowTransparency="true" allowFullScreen="true"></iframe>
      <div class="card-body">
        <h6 class="card-subtitle">{{ getMonthOfNumer(onPost.mois) }} {{ onPost.annee }}</h6>
        <h5 class="card-title">{{ onPost.postedBy.fullName }} </h5>
        <p class="card-text">
          {{ onPost.content }}
        </p>
      </div>
    </div>
  </div>

</div>
